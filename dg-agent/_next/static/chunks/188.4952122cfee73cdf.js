"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[188],{1791:function(t,e,a){a.d(e,{Dq:function(){return d},Pf:function(){return c},Qh:function(){return l},RM:function(){return u},Ye:function(){return i},dc:function(){return o},nR:function(){return s}});var n=a(4821),r=a.n(n);let o="system_prompt",i="openai_key",s="openai_model_name",l="tools_json",c="github_access_token",u="github_repo",d=r()("\n    You are Farmer.CHAT, an initiative by Digital Green Foundation,\n    aimed at providing comprehensive assistance in various farming\n    practices, a highly knowledgeable AI assistant specializing in\n    providing accurate agricultural advice.\n\n    As an assistant, engage in friendly conversation towards\n    answering the query of the user.  If some input necessary to\n    answer the question is not in the query or the chat history, ask\n    the user politely for it.  If the answer is unknown, politely\n    apologize to the user for being unable to answer the question.\n    Only answer from data obtained via the tools.\n")},4188:function(t,e,a){a.r(e),a.d(e,{default:function(){return Page}});var n=a(8896),r=a(1791),o=a(1798),i=a(95),s=a(2105);function Page(){let[t,e]=(0,o.useState)(null),[a,l]=(0,s._)(r.dc,r.Dq);async function loadPrompt(t){let e=await (0,i.vB)(t);l(e)}return(0,o.useEffect)(()=>{(async function(){let a=await (0,i.Hh)();a&&!t&&e(a)})()}),(0,n.jsxs)("div",{className:"p-4 md:p-8 rounded bg-[#25252d] w-full max-h-[100vh] overflow-auto",children:[(0,n.jsx)("h1",{className:"mb-4 text-2xl md:text-3xl",children:"Prompt Tuning"}),t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"text-s",children:["Found ",t.length," prompt(s) in storage."]}),(0,n.jsxs)("select",{className:"w-full mt-4 bg-black",onChange:t=>"Custom"!==t.target.value&&loadPrompt(t.target.value),children:[(0,n.jsx)("option",{value:"Custom",children:"Custom"},"CUSTOM"),t.map(t=>{let[e,a]=t;return(0,n.jsx)("option",{value:e,children:e},e)})]})]}):(0,n.jsx)("p",{children:"No prompts in storage."}),(0,n.jsx)("textarea",{rows:15,className:"w-full",value:[a],onChange:t=>l(t.target.value),placeholder:"System prompt"})]})}},95:function(t,e,a){async function arrayFromAsync(t){let e=[];for await(let a of t)e.push(a);return e}async function readPrompts(){let t=await navigator.storage.getDirectory(),e=await t.getDirectoryHandle("prompts",{create:!0}),a=await arrayFromAsync(e.entries());return a.map(t=>{let[e,a]=t;return[e.replace(/\.txt$/,""),a]})}async function readTools(){let t=await navigator.storage.getDirectory(),e=await t.getDirectoryHandle("tools",{create:!0}),a=await arrayFromAsync(e.entries());return a.map(t=>{let[e,a]=t;return[e.replace(/\.json$/,""),a]})}async function readPrompt(t){let e=await navigator.storage.getDirectory(),a=await e.getDirectoryHandle("prompts",{create:!0}),n=await a.getFileHandle("".concat(t,".txt")),r=await n.getFile();return r.text()}async function readTool(t){let e=await navigator.storage.getDirectory(),a=await e.getDirectoryHandle("tools",{});console.log("Reading tool",t);let n=await a.getFileHandle("".concat(t,".json")),r=await n.getFile(),o=await r.text(),i=JSON.parse(o);return i.uuid=t,i}async function readAllTools(){let t=await readTools(),e=t.map(t=>{let[e,a]=t;return readTool(e)});return Promise.all(e)}async function deleteTool(t){let e=await navigator.storage.getDirectory(),a=await e.getDirectoryHandle("tools",{create:!0});await a.removeEntry("".concat(t,".json"))}async function createTool(t){let e=await navigator.storage.getDirectory(),a=await e.getDirectoryHandle("tools",{create:!0}),n=await a.getFileHandle("".concat(t.uuid,".json"),{create:!0}),r=await n.createWritable();await r.write(JSON.stringify(t)),await r.close();let o=await readTool(t.uuid);console.log("Read content: ",o)}a.d(e,{Hh:function(){return readPrompts},Pb:function(){return readTools},Pr:function(){return readTool},V:function(){return readAllTools},_h:function(){return deleteTool},vB:function(){return readPrompt},yk:function(){return createTool}})}}]);